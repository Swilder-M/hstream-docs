<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Monitoring HStreamDB with Grafana | HStreamDB Documentation</title><meta name="generator" content="VuePress 1.9.5"><link rel="shortcut icon" type="image/x-icon" href="/docs/docs-images/favicon-hstreamdb.ico"><link rel="stylesheet" href="https://at.alicdn.com/t/font_3137465_33anb3gl4nt.css"><script charset="utf-8" src="https://at.alicdn.com/t/font_3125249_pld7abubdat.js"></script><link rel="canonical" href="https://hstream.io/docs/en/latest/monitoring/grafana.html"><meta name="docsearch:language" content="en"><meta name="docsearch:product" content="hstreamdb"><meta name="docsearch:version" content="latest"><meta name="description" content=""><meta property="og:site_name" content="HStreamDB Documentation"><meta property="og:title" content="Monitoring HStreamDB with Grafana"><meta property="og:type" content="website"><meta property="og:url" content="https://hstream.io/docs/en/latest/monitoring/grafana.html"><meta name="twitter:title" content="Monitoring HStreamDB with Grafana"><meta name="twitter:url" content="https://hstream.io/docs/en/latest/monitoring/grafana.html"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@EMQTech"><meta name="twitter:creator" content="@EMQTech"><meta name="twitter:image" content="https://www.emqx.com/images/logo_512.png"><meta name="twitter:image:alt" content="EMQ LOGO"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta property="og:image" content="https://www.emqx.com/images/logo_512.png"><link rel="preload" href="/docs/docs-assets/css/0.styles.ec078ccc.css" as="style"><link rel="preload" href="/docs/docs-assets/js/app.ac0e6e73.js" as="script"><link rel="preload" href="/docs/docs-assets/js/2.1f9daac7.js" as="script"><link rel="preload" href="/docs/docs-assets/js/5.ddfe8543.js" as="script"><link rel="prefetch" href="/docs/docs-assets/js/10.c73e278a.js"><link rel="prefetch" href="/docs/docs-assets/js/100.be66b083.js"><link rel="prefetch" href="/docs/docs-assets/js/101.93149e6e.js"><link rel="prefetch" href="/docs/docs-assets/js/102.d44186e1.js"><link rel="prefetch" href="/docs/docs-assets/js/103.f02f5f86.js"><link rel="prefetch" href="/docs/docs-assets/js/104.24bd9604.js"><link rel="prefetch" href="/docs/docs-assets/js/105.0d3cc066.js"><link rel="prefetch" href="/docs/docs-assets/js/106.8d7a14d9.js"><link rel="prefetch" href="/docs/docs-assets/js/107.3435b70c.js"><link rel="prefetch" href="/docs/docs-assets/js/108.76bacd95.js"><link rel="prefetch" href="/docs/docs-assets/js/109.90cba754.js"><link rel="prefetch" href="/docs/docs-assets/js/11.822c0767.js"><link rel="prefetch" href="/docs/docs-assets/js/110.491d2c41.js"><link rel="prefetch" href="/docs/docs-assets/js/111.4137c775.js"><link rel="prefetch" href="/docs/docs-assets/js/112.e9f5a008.js"><link rel="prefetch" href="/docs/docs-assets/js/113.d86a692c.js"><link rel="prefetch" href="/docs/docs-assets/js/114.87878ce9.js"><link rel="prefetch" href="/docs/docs-assets/js/115.9212087e.js"><link rel="prefetch" href="/docs/docs-assets/js/116.86ef4ef3.js"><link rel="prefetch" href="/docs/docs-assets/js/117.b390bf22.js"><link rel="prefetch" href="/docs/docs-assets/js/118.6e718af6.js"><link rel="prefetch" href="/docs/docs-assets/js/12.267540f5.js"><link rel="prefetch" href="/docs/docs-assets/js/13.707c1563.js"><link rel="prefetch" href="/docs/docs-assets/js/14.33b01742.js"><link rel="prefetch" href="/docs/docs-assets/js/15.19ac1096.js"><link rel="prefetch" href="/docs/docs-assets/js/16.8dc3ef11.js"><link rel="prefetch" href="/docs/docs-assets/js/17.3234f348.js"><link rel="prefetch" href="/docs/docs-assets/js/18.1def2c0f.js"><link rel="prefetch" href="/docs/docs-assets/js/19.c2e1dc81.js"><link rel="prefetch" href="/docs/docs-assets/js/20.9b207b44.js"><link rel="prefetch" href="/docs/docs-assets/js/21.fc4aa3f2.js"><link rel="prefetch" href="/docs/docs-assets/js/22.57975c2a.js"><link rel="prefetch" href="/docs/docs-assets/js/23.287ce156.js"><link rel="prefetch" href="/docs/docs-assets/js/24.5445ec3b.js"><link rel="prefetch" href="/docs/docs-assets/js/25.86ec61cb.js"><link rel="prefetch" href="/docs/docs-assets/js/26.ef95b580.js"><link rel="prefetch" href="/docs/docs-assets/js/27.8f5a4b7c.js"><link rel="prefetch" href="/docs/docs-assets/js/28.7232a902.js"><link rel="prefetch" href="/docs/docs-assets/js/29.a88f0ac0.js"><link rel="prefetch" href="/docs/docs-assets/js/3.e5ef1dad.js"><link rel="prefetch" href="/docs/docs-assets/js/30.702075b5.js"><link rel="prefetch" href="/docs/docs-assets/js/31.55f214b0.js"><link rel="prefetch" href="/docs/docs-assets/js/32.8e4b662f.js"><link rel="prefetch" href="/docs/docs-assets/js/33.e67956c0.js"><link rel="prefetch" href="/docs/docs-assets/js/34.3588736d.js"><link rel="prefetch" href="/docs/docs-assets/js/35.90047da0.js"><link rel="prefetch" href="/docs/docs-assets/js/36.e0863f65.js"><link rel="prefetch" href="/docs/docs-assets/js/37.5ea8eecd.js"><link rel="prefetch" href="/docs/docs-assets/js/38.70c33ed6.js"><link rel="prefetch" href="/docs/docs-assets/js/39.9cb9e2d3.js"><link rel="prefetch" href="/docs/docs-assets/js/4.4be52a77.js"><link rel="prefetch" href="/docs/docs-assets/js/40.5d821d26.js"><link rel="prefetch" href="/docs/docs-assets/js/41.98bdf1e8.js"><link rel="prefetch" href="/docs/docs-assets/js/42.811beada.js"><link rel="prefetch" href="/docs/docs-assets/js/43.e4146a81.js"><link rel="prefetch" href="/docs/docs-assets/js/44.bb736090.js"><link rel="prefetch" href="/docs/docs-assets/js/45.0916a620.js"><link rel="prefetch" href="/docs/docs-assets/js/46.88694289.js"><link rel="prefetch" href="/docs/docs-assets/js/47.9dc93bd4.js"><link rel="prefetch" href="/docs/docs-assets/js/48.7ab3fceb.js"><link rel="prefetch" href="/docs/docs-assets/js/49.319215e3.js"><link rel="prefetch" href="/docs/docs-assets/js/50.47693d9c.js"><link rel="prefetch" href="/docs/docs-assets/js/51.9bc7ec30.js"><link rel="prefetch" href="/docs/docs-assets/js/52.937e4b1f.js"><link rel="prefetch" href="/docs/docs-assets/js/53.be89e0bf.js"><link rel="prefetch" href="/docs/docs-assets/js/54.280dbe78.js"><link rel="prefetch" href="/docs/docs-assets/js/55.ffdde7ba.js"><link rel="prefetch" href="/docs/docs-assets/js/56.ca672ef2.js"><link rel="prefetch" href="/docs/docs-assets/js/57.2952de86.js"><link rel="prefetch" href="/docs/docs-assets/js/58.1e1e3998.js"><link rel="prefetch" href="/docs/docs-assets/js/59.b2f7ec9f.js"><link rel="prefetch" href="/docs/docs-assets/js/6.9933831d.js"><link rel="prefetch" href="/docs/docs-assets/js/60.da6305f9.js"><link rel="prefetch" href="/docs/docs-assets/js/61.6bc588ef.js"><link rel="prefetch" href="/docs/docs-assets/js/62.e23f724d.js"><link rel="prefetch" href="/docs/docs-assets/js/63.9803d678.js"><link rel="prefetch" href="/docs/docs-assets/js/64.6459ae20.js"><link rel="prefetch" href="/docs/docs-assets/js/65.2b3d666f.js"><link rel="prefetch" href="/docs/docs-assets/js/66.b87c5926.js"><link rel="prefetch" href="/docs/docs-assets/js/67.e06114ee.js"><link rel="prefetch" href="/docs/docs-assets/js/68.af56e3c9.js"><link rel="prefetch" href="/docs/docs-assets/js/69.4eccf8f5.js"><link rel="prefetch" href="/docs/docs-assets/js/7.3e32632c.js"><link rel="prefetch" href="/docs/docs-assets/js/70.43735f8d.js"><link rel="prefetch" href="/docs/docs-assets/js/71.40d746a0.js"><link rel="prefetch" href="/docs/docs-assets/js/72.c2ae8a9f.js"><link rel="prefetch" href="/docs/docs-assets/js/73.da5d1c41.js"><link rel="prefetch" href="/docs/docs-assets/js/74.5b016c05.js"><link rel="prefetch" href="/docs/docs-assets/js/75.35121ba5.js"><link rel="prefetch" href="/docs/docs-assets/js/76.e5cf07e4.js"><link rel="prefetch" href="/docs/docs-assets/js/77.caf1c5fb.js"><link rel="prefetch" href="/docs/docs-assets/js/78.662d9403.js"><link rel="prefetch" href="/docs/docs-assets/js/79.d0a33137.js"><link rel="prefetch" href="/docs/docs-assets/js/8.ac307652.js"><link rel="prefetch" href="/docs/docs-assets/js/80.64529846.js"><link rel="prefetch" href="/docs/docs-assets/js/81.60c27e54.js"><link rel="prefetch" href="/docs/docs-assets/js/82.0550c644.js"><link rel="prefetch" href="/docs/docs-assets/js/83.c2424ace.js"><link rel="prefetch" href="/docs/docs-assets/js/84.b8447436.js"><link rel="prefetch" href="/docs/docs-assets/js/85.bb937bf2.js"><link rel="prefetch" href="/docs/docs-assets/js/86.56d1720f.js"><link rel="prefetch" href="/docs/docs-assets/js/87.174807ea.js"><link rel="prefetch" href="/docs/docs-assets/js/88.9de63e11.js"><link rel="prefetch" href="/docs/docs-assets/js/89.429c2645.js"><link rel="prefetch" href="/docs/docs-assets/js/9.34fbcbca.js"><link rel="prefetch" href="/docs/docs-assets/js/90.435f81a4.js"><link rel="prefetch" href="/docs/docs-assets/js/91.3e81a2bc.js"><link rel="prefetch" href="/docs/docs-assets/js/92.86269268.js"><link rel="prefetch" href="/docs/docs-assets/js/93.c9897416.js"><link rel="prefetch" href="/docs/docs-assets/js/94.20065139.js"><link rel="prefetch" href="/docs/docs-assets/js/95.13f29a76.js"><link rel="prefetch" href="/docs/docs-assets/js/96.85425064.js"><link rel="prefetch" href="/docs/docs-assets/js/97.860c8a44.js"><link rel="prefetch" href="/docs/docs-assets/js/98.59d9a53e.js"><link rel="prefetch" href="/docs/docs-assets/js/99.1b14b7cf.js"><link rel="stylesheet" href="/docs/docs-assets/css/0.styles.ec078ccc.css"></head><body><div id="app" data-server-rendered="true"><div class="theme-container"><header id="app-header" class="is-clearfix is-hidden-mobile"><nav id="navbar" role="navigation" aria-label="main navigation" class="navbar is-relative"><div class="container"><div class="navbar-brand ml-0"><a href="https://hstream.io" class="navbar-item"><img loading="lazy" src="/docs/docs-assets/img/logo-hstreamdb.5dbc865d.png" alt="HStreamDB: The streaming database built for IoT data storage and real-time analytics" class="logo"></a><a role="button" aria-label="menu" aria-expanded="false" data-target="navbarBasic" class="navbar-burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div><div class="navbar-menu" style="--extra-height:72px"><div class="navbar-start"><a href="/docs/en/latest/" class="navbar-item router-link-active">Docs </a><a href="https://hstream.io/blog" target="_self" rel="noopener" class="navbar-item">Blog </a><a href="https://hstream.io/community" target="_self" rel="noopener" class="navbar-item">Community</a><div class="navbar-item has-dropdown is-hstreamdb"><a class="navbar-link is-arrowless">Company <i class="iconfont icon-arrow-down ml-1 is-size-7"></i></a><div class="navbar-dropdown is-hstreamdb"><a href="https://www.emqx.com/en/about" target="_blank" rel="noopener" class="dropdown-item is-flex is-align-items-center is-text-normal hover:is-text-primary has-text-weight-medium"><div class="dropdown-item-icon mr-3 p-2"><img loading="lazy" src="/docs/docs-images/hstreamdb/header/icon-about.png" alt="About Us"></div>About Us </a><a href="https://www.emqx.com/en/news" target="_blank" rel="noopener" class="dropdown-item is-flex is-align-items-center is-text-normal hover:is-text-primary has-text-weight-medium"><div class="dropdown-item-icon mr-3 p-2"><img loading="lazy" src="/docs/docs-images/hstreamdb/header/icon-news.png" alt="Newsroom"></div>Newsroom </a><a href="https://www.emqx.com/en/contact?product=hstreamdb" target="_blank" rel="noopener" class="dropdown-item is-flex is-align-items-center is-text-normal hover:is-text-primary has-text-weight-medium"><div class="dropdown-item-icon mr-3 p-2"><img loading="lazy" src="/docs/docs-images/hstreamdb/header/icon-email.png" alt="Contact Us"></div>Contact Us</a></div></div></div><div class="navbar-end"><div class="navbar-item is-hidden-touch"><a href="https://github.com/hstreamdb/hstream" target="_blank" rel="noopener noreferrer nofollow" class="is-flex is-align-items-center has-text-weight-medium is-text-normal hover:is-text-primary is-size-14"><i class="iconfont icon-github mr-2 is-size-4 is-text-black"></i> Star</a></div><div class="navbar-item is-hidden-touch"><a href="https://discord.gg/2fEsuvzYqc" target="_blank" rel="noopener noreferrer nofollow" class="is-flex is-align-items-center has-text-weight-medium is-text-normal hover:is-text-primary is-size-14"><i class="iconfont icon-discord mr-2 is-size-4 is-text-black"></i> Discord</a></div><div class="navbar-item is-hidden-touch"><a href="https://www.emqx.com/en/try?product=hstreamdb" target="_blank" class="button is-gradient is-trans-top has-text-weight-medium">Download</a></div><a href="https://www.emqx.com/en/try?product=hstreamdb" target="_blank" class="navbar-item is-hidden-desktop">Download</a></div></div></div></nav></header><header class="docs-navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><div class="navbar-left"><a href="/docs/en/latest/" class="home-link is-hidden-mobile router-link-active">Documentation </a><a href="/docs/en/latest/" class="home-link is-hidden-tablet router-link-active"><img loading="lazy" src="/docs/docs-assets/img/logo-hstreamdb.5dbc865d.png" alt="HStreamDB: The streaming database built for IoT data storage and real-time analytics" class="logo" style="height:40px;max-width:unset"></a></div><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="https://hstreamdb/docs/en/latest/" target="_self" class="nav-link external">Docs</a></div><div class="nav-item"><a href="https://hstream.io/blog" target="_self" class="nav-link external">Blog</a></div><div class="nav-item"><a href="https://hstream.io/community" target="_self" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Company" class="dropdown-title"><span class="title">Company</span> <span class="arrow down"></span></button> <button type="button" aria-label="Company" class="mobile-dropdown-title"><span class="title">Company</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/about" target="_blank" rel="noopener noreferrer" class="nav-link external">About Us</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/news" target="_blank" rel="noopener noreferrer" class="nav-link external">Newsroom</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/contact?product=hstreamdb" target="_blank" rel="noopener noreferrer" class="nav-link external">Contact Us</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/docs/en/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/docs/zh/latest/" class="nav-link">中文</a></li></ul></div></div></nav></div></header><div class="sidebar-mask"></div><section class="main-box"><div class="columns is-mobile is-gapless"><aside class="left-column sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://hstreamdb/docs/en/latest/" target="_self" class="nav-link external">Docs</a></div><div class="nav-item"><a href="https://hstream.io/blog" target="_self" class="nav-link external">Blog</a></div><div class="nav-item"><a href="https://hstream.io/community" target="_self" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Company" class="dropdown-title"><span class="title">Company</span> <span class="arrow down"></span></button> <button type="button" aria-label="Company" class="mobile-dropdown-title"><span class="title">Company</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/about" target="_blank" rel="noopener noreferrer" class="nav-link external">About Us</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/news" target="_blank" rel="noopener noreferrer" class="nav-link external">Newsroom</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/contact?product=hstreamdb" target="_blank" rel="noopener noreferrer" class="nav-link external">Contact Us</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/docs/en/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/docs/zh/latest/" class="nav-link">中文</a></li></ul></div></div></nav><div class="mt-6 mb-4"><div id="docsearch" class="algolia-search-box"></div></div><ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Introduction</span> <span class="arrow down"></span></p><ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/latest/introduction/overview.html" class="sidebar-link">HStreamDB Overview</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Overview</span> <span class="arrow right"></span></p></section></li></ul></section></li><li><a href="/docs/en/latest/start/quickstart-with-docker.html" class="sidebar-link">Getting started</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guides</span> <span class="arrow right"></span></p></section></li><li><a href="/docs/en/latest/cli/cli.html" class="sidebar-link">HStream CLI</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HStream IO</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HStream SQL</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deployment</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p></section></li><li><a href="/docs/en/latest/monitoring/grafana.html" aria-current="page" class="active sidebar-link">Monitoring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/en/latest/monitoring/grafana.html#installations-and-set-up" class="sidebar-link">Installations and Set-up</a></li><li class="sidebar-sub-header"><a href="/docs/en/latest/monitoring/grafana.html#provision-grafana" class="sidebar-link">Provision Grafana</a></li><li class="sidebar-sub-header"><a href="/docs/en/latest/monitoring/grafana.html#query-metrics-and-create-dashboards-with-grafana" class="sidebar-link">Query Metrics and Create Dashboards with Grafana</a></li></ul></li><li><a href="/docs/en/latest/release_notes/HStreamDB.html" class="sidebar-link">Release notes</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p></section></li></ul><div class="sidebar-bottom"><div class="version-pick"><div class="dropdown-wrapper"><button type="button" class="dropdown-title is-flex is-align-items-center is-justify-content-space-between"><span class="title">latest </span><i class="iconfont icon-arrow-down ml-1 is-size-7"></i></button></div></div><div class="lang-pick"><div class="dropdown-wrapper"><button type="button" class="dropdown-title p-0 is-flex is-align-items-center is-justify-content-end"><i class="iconfont icon-language is-size-4"></i></button><ul class="dropdown-items"><li class="dropdown-item"><a href="/docs/en/latest/" class="router-link-active is-active">English</a></li><li class="dropdown-item"><a href="/docs/zh/latest/">中文</a></li></ul></div></div></div></aside><div class="column"><div class="columns is-mobile is-gapless"><div class="column col-page"><main class="page"><div id="loader-wrapper" style="display:none" data-v-78d8edea><div class="loader" data-v-78d8edea><div class="ball-spin-fade-loader" data-v-78d8edea><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div></div></div></div><div class="theme-default-content reset-width content__default"><h1 id="monitoring-hstreamdb-with-grafana"><a href="#monitoring-hstreamdb-with-grafana" class="header-anchor">#</a> Monitoring HStreamDB with Grafana</h1><p>A comprehensive metrics visualisation of the deployed HStreamDB cluster makes it easier to analyse the status and diagnose problems. This document describes the deployment of Grafana and related tools with a running HStreamDB instance.</p><h2 id="installations-and-set-up"><a href="#installations-and-set-up" class="header-anchor">#</a> Installations and Set-up</h2><h3 id="setup-data-source-for-grafana-setup-hstream-http-server-and-prometheus"><a href="#setup-data-source-for-grafana-setup-hstream-http-server-and-prometheus" class="header-anchor">#</a> Setup Data Source for Grafana (Setup HStream Http Server and Prometheus)</h3><p>Download the HStream HTTP Server binary from the <a href="https://github.com/hstreamdb/http-services/releases" target="_blank" rel="noopener noreferrer">release page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><p>Start the HTTP Server with</p><div class="language- line-numbers-mode"><pre class="language-text"><code>http-server -services-url &quot;127.0.0.1:6570&quot; -address &quot;127.0.0.1:9290&quot;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>as a dependency of HStream Metrics Exporter. The HTTP Server will be responsible for collecting metrics and executing admin requests.</p><p>Setting up HStream Metrics Exporter is similar. Usages and releases are available on its <a href="https://github.com/hstreamdb/hstream-metrics-exporter" target="_blank" rel="noopener noreferrer">homepage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><div class="language- line-numbers-mode"><pre class="language-text"><code>hstream-metrics-exporter -host 127.0.0.1 -port 9270 -http-server-host 127.0.0.1 -http-server-port 9290
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This exports the metrics to Prometheus as a Prometheus target.</p><p>Another Prometheus target we need is the Node Exporter, an exporter for hardware and OS metrics. It should be deployed on every HStream node. Information about the installation and usage is available on its <a href="https://github.com/prometheus/node_exporter" target="_blank" rel="noopener noreferrer">homepage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p><p>After setting up the targets, users can start Prometheus via Docker with configuration files.</p><div class="language- line-numbers-mode"><pre class="language-text"><code>docker run -p 9090:9090 -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The configuration files must set scrape intervals and configure HStream Metrics Exporter as the target. We would also need the HStream Metrics Exporter's address in the Prometheus configuration. Check the <a href="https://prometheus.io/docs/prometheus/latest/getting_started/" target="_blank" rel="noopener noreferrer">Prometheus guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for details.</p><h3 id="install-and-start-grafana"><a href="#install-and-start-grafana" class="header-anchor">#</a> Install and Start Grafana</h3><p>We can install and run Grafana with Docker</p><div class="language- line-numbers-mode"><pre class="language-text"><code>docker run -p 3000:3000               \
  -e GF_AUTH_ANONYMOUS_ORG_ROLE=Admin \
  -e GF_AUTH_ANONYMOUS_ENABLED=true   \
  -e GF_AUTH_DISABLE_LOGIN_FORM=true  \
      grafana/grafana-oss
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Here are a few options making <strong>just having a preview</strong> of monitoring HStreamDB easier.</p><ul><li><code>GF_AUTH_ANONYMOUS_ORG_ROLE=Admin</code>: enable anonymous organisation as Grafana admin, which is able to add data sources</li><li><code>GF_AUTH_ANONYMOUS_ENABLED=true</code>: enable and use an anonymous organisation as the default</li><li><code>GF_AUTH_DISABLE_LOGIN_FORM=true</code>: make the above two options work and skip the log-in screen</li></ul><h2 id="provision-grafana"><a href="#provision-grafana" class="header-anchor">#</a> Provision Grafana</h2><p>To start with, create a folder with the following hierarchy:</p><div class="language- line-numbers-mode"><pre class="language-text"><code>provisioning/
├── dashboards/
└── datasources/
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>When run with Docker, use <code>-v &lt;path-to&gt;/provisioning:/etc/grafana/provisioning</code> to mount the file into the container.</p><p>Create <code>datasources.yml</code> under the <code>datasources</code> folder to provision data sources.</p><p>An example would be:</p><div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> <span class="token number">1</span>

<span class="token key atrule">datasources</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Prometheus
    <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">uid</span><span class="token punctuation">:</span> TNX2D3rnk
    <span class="token key atrule">orgId</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> prometheus
    <span class="token key atrule">typeName</span><span class="token punctuation">:</span> Prometheus
    <span class="token key atrule">typeLogoUrl</span><span class="token punctuation">:</span> public/app/plugins/datasource/prometheus/img/prometheus_logo.svg
    <span class="token key atrule">access</span><span class="token punctuation">:</span> proxy
    <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9090</span>
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token key atrule">user</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token key atrule">database</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token key atrule">basicAuth</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">isDefault</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">jsonData</span><span class="token punctuation">:</span>
    <span class="token key atrule">httpMethod</span><span class="token punctuation">:</span> POST
    <span class="token key atrule">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>Create <code>dashboards.yml</code> under the <code>dashboards</code> folder to provision dashboards.</p><p>An example would be:</p><div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> <span class="token number">1</span>

<span class="token key atrule">providers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;DS_PROMETHEUS&quot;</span>
    <span class="token key atrule">orgId</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">folder</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> file
    <span class="token key atrule">disableDeletion</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">updateIntervalSeconds</span><span class="token punctuation">:</span> <span class="token number">10</span>
    <span class="token key atrule">allowUiUpdates</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">options</span><span class="token punctuation">:</span>
      <span class="token key atrule">path</span><span class="token punctuation">:</span> /etc/grafana/provisioning/dashboards
      <span class="token key atrule">foldersFromFilesStructure</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>The <code>path</code> field here is the path Docker options bound to, for example, <code>/etc/grafana/provisioning</code>. Grafana will treat all JSON files in the <code>path</code> folder as dashboards, which will be imported on start-up. Dashboards created later can also be exported to JSON files.</p><h2 id="query-metrics-and-create-dashboards-with-grafana"><a href="#query-metrics-and-create-dashboards-with-grafana" class="header-anchor">#</a> Query Metrics and Create Dashboards with Grafana</h2><p>With services all set up, we can now run metrics queries and visualise data with Grafana.</p><p>The following creates a new metrics panel on the Dashboards tab:</p><p>Click on &quot;Add panel&quot;:</p><p><img src="/docs/docs-assets/img/add-panel.784eb70b.png" alt=""></p><p>Click on &quot;Add a new panel&quot;:</p><p><img src="/docs/docs-assets/img/add-a-panel.3f5942e1.png" alt=""></p><p>Under the &quot;Query&quot; tab, use the metrics explorer under the &quot;Metrics&quot; tab to select the HStream metrics. Use the query builder to construct the query and provide attributes. Then save the new panel.</p><p><img src="/docs/docs-assets/img/create-dashboard.f765342e.png" alt=""></p><p>Click on &quot;Save dashboard&quot;, then export as JSON for provisioning and import usages.</p><p><img src="/docs/docs-assets/img/save.a03b99af.png" alt=""></p></div><div class="page-nav reset-width"><p class="inner"><span class="prev">← <a href="/docs/en/latest/security/authentication.html" class="prev">Authentication </a></span><span class="next"><a href="/docs/en/latest/release_notes/HStreamDB.html">Release notes </a>→</span></p></div></main></div><div class="right-column"><div class="docs-operation"><div class="doc-download improve-doc"><a href="https://github.com/hstreamdb/docs/edit/latest/docs/en/monitoring/grafana.md" target="_blank" rel="noreferrer" class="improve-doc">Edit this page</a></div><div class="doc-download feedback-doc"><a href="https://github.com/hstreamdb/docs/issues/new?body=File:%20[/docs/en/monitoring/grafana.md](https://hstream.io/docs/en/latest/monitoring/grafana.html)" target="_blank" rel="noreferrer">Request docs changes</a></div></div><section class="doc-toc"><div class="title">What’s on this page</div><div class="toc-content"><ul><li><a href="/docs/en/latest/monitoring/grafana.html#installations-and-set-up">Installations and Set-up</a></li><li><a href="/docs/en/latest/monitoring/grafana.html#provision-grafana">Provision Grafana</a></li><li><a href="/docs/en/latest/monitoring/grafana.html#query-metrics-and-create-dashboards-with-grafana">Query Metrics and Create Dashboards with Grafana</a></li></ul></div></section></div></div></div></div></section><div id="page-feedback" data-v-fa621f20><div class="feedback-button is-flex is-align-items-center is-justify-content-center" data-v-fa621f20><svg aria-hidden="true" class="icon" data-v-fa621f20><use xlink:href="#icon-useful" data-v-fa621f20></use></svg></div><div class="feedback-form" style="display:none" data-v-fa621f20 data-v-fa621f20><div class="feedback-header pl-4 is-flex is-align-items-center is-justify-content-space-between" data-v-fa621f20>Was this page useful?<div class="icon-close p-4" style="cursor:pointer" data-v-fa621f20>x</div></div><div class="feedback-body p-4" data-v-fa621f20><div class="is-flex" data-v-fa621f20 data-v-67fd37ab data-v-fa621f20><div class="feedback-button like mr-5 is-flex is-align-items-center is-justify-content-center" data-v-fa621f20><svg aria-hidden="true" class="icon" data-v-fa621f20><use xlink:href="#icon-useful" data-v-fa621f20></use></svg></div><div class="feedback-button dislike is-flex is-align-items-center is-justify-content-center" data-v-fa621f20><svg aria-hidden="true" class="icon" data-v-fa621f20><use xlink:href="#icon-a-notuseful" data-v-fa621f20></use></svg></div></div></div></div></div></div><div class="global-ui"></div></div><script src="/docs/docs-assets/js/app.ac0e6e73.js" defer="defer"></script><script src="/docs/docs-assets/js/2.1f9daac7.js" defer="defer"></script><script src="/docs/docs-assets/js/5.ddfe8543.js" defer="defer"></script></body></html>