<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to use HStream connectors with MySQL | HStreamDB Documentation</title><meta name="generator" content="VuePress 1.9.5"><link rel="shortcut icon" type="image/x-icon" href="/docs/docs-images/favicon-hstreamdb.ico"><link rel="stylesheet" href="https://at.alicdn.com/t/font_3137465_33anb3gl4nt.css"><script charset="utf-8" src="https://at.alicdn.com/t/font_3125249_pld7abubdat.js"></script><link rel="canonical" href="https://hstream.io/docs/en/latest/reference/connector/tutorial/MySQL.html"><meta name="docsearch:language" content="en"><meta name="docsearch:product" content="hstreamdb"><meta name="docsearch:version" content="latest"><meta name="description" content=""><meta property="og:site_name" content="HStreamDB Documentation"><meta property="og:title" content="How to use HStream connectors with MySQL"><meta property="og:type" content="website"><meta property="og:url" content="https://hstream.io/docs/en/latest/reference/connector/tutorial/MySQL.html"><meta name="twitter:title" content="How to use HStream connectors with MySQL"><meta name="twitter:url" content="https://hstream.io/docs/en/latest/reference/connector/tutorial/MySQL.html"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@EMQTech"><meta name="twitter:creator" content="@EMQTech"><meta name="twitter:image" content="https://www.emqx.com/images/logo_512.png"><meta name="twitter:image:alt" content="EMQ LOGO"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta property="og:image" content="https://www.emqx.com/images/logo_512.png"><link rel="preload" href="/docs/docs-assets/css/0.styles.ec078ccc.css" as="style"><link rel="preload" href="/docs/docs-assets/js/app.bf87e421.js" as="script"><link rel="preload" href="/docs/docs-assets/js/2.a817f45a.js" as="script"><link rel="preload" href="/docs/docs-assets/js/39.352899e9.js" as="script"><link rel="prefetch" href="/docs/docs-assets/js/10.332ffeae.js"><link rel="prefetch" href="/docs/docs-assets/js/100.53d15d91.js"><link rel="prefetch" href="/docs/docs-assets/js/101.819547f5.js"><link rel="prefetch" href="/docs/docs-assets/js/102.baefba82.js"><link rel="prefetch" href="/docs/docs-assets/js/103.ad2615b3.js"><link rel="prefetch" href="/docs/docs-assets/js/104.bc39a7a4.js"><link rel="prefetch" href="/docs/docs-assets/js/11.5840f0c1.js"><link rel="prefetch" href="/docs/docs-assets/js/12.d7a5c3b6.js"><link rel="prefetch" href="/docs/docs-assets/js/13.7b74f8f5.js"><link rel="prefetch" href="/docs/docs-assets/js/14.c11536cb.js"><link rel="prefetch" href="/docs/docs-assets/js/15.68fdb2b2.js"><link rel="prefetch" href="/docs/docs-assets/js/16.e21697ca.js"><link rel="prefetch" href="/docs/docs-assets/js/17.cea5ddd3.js"><link rel="prefetch" href="/docs/docs-assets/js/18.3d53a549.js"><link rel="prefetch" href="/docs/docs-assets/js/19.902a62f7.js"><link rel="prefetch" href="/docs/docs-assets/js/20.5b0040ce.js"><link rel="prefetch" href="/docs/docs-assets/js/21.d7b55b31.js"><link rel="prefetch" href="/docs/docs-assets/js/22.a45d14f0.js"><link rel="prefetch" href="/docs/docs-assets/js/23.5d53005f.js"><link rel="prefetch" href="/docs/docs-assets/js/24.a46a8dfc.js"><link rel="prefetch" href="/docs/docs-assets/js/25.91e21659.js"><link rel="prefetch" href="/docs/docs-assets/js/26.b41e22a0.js"><link rel="prefetch" href="/docs/docs-assets/js/27.3363c682.js"><link rel="prefetch" href="/docs/docs-assets/js/28.3ac4c43a.js"><link rel="prefetch" href="/docs/docs-assets/js/29.5e868005.js"><link rel="prefetch" href="/docs/docs-assets/js/3.e5ef1dad.js"><link rel="prefetch" href="/docs/docs-assets/js/30.7334d54a.js"><link rel="prefetch" href="/docs/docs-assets/js/31.155d82ae.js"><link rel="prefetch" href="/docs/docs-assets/js/32.4734b2d6.js"><link rel="prefetch" href="/docs/docs-assets/js/33.cf6bd480.js"><link rel="prefetch" href="/docs/docs-assets/js/34.7b4d3282.js"><link rel="prefetch" href="/docs/docs-assets/js/35.c089f727.js"><link rel="prefetch" href="/docs/docs-assets/js/36.bf3709db.js"><link rel="prefetch" href="/docs/docs-assets/js/37.37f1baaa.js"><link rel="prefetch" href="/docs/docs-assets/js/38.18050340.js"><link rel="prefetch" href="/docs/docs-assets/js/4.774ab83f.js"><link rel="prefetch" href="/docs/docs-assets/js/40.2bce6441.js"><link rel="prefetch" href="/docs/docs-assets/js/41.b0daf9c9.js"><link rel="prefetch" href="/docs/docs-assets/js/42.4b51b49f.js"><link rel="prefetch" href="/docs/docs-assets/js/43.8d5eb0cb.js"><link rel="prefetch" href="/docs/docs-assets/js/44.187d89ed.js"><link rel="prefetch" href="/docs/docs-assets/js/45.a81a8a13.js"><link rel="prefetch" href="/docs/docs-assets/js/46.9907d7ae.js"><link rel="prefetch" href="/docs/docs-assets/js/47.1757edf9.js"><link rel="prefetch" href="/docs/docs-assets/js/48.b5c4d961.js"><link rel="prefetch" href="/docs/docs-assets/js/49.3ee07da4.js"><link rel="prefetch" href="/docs/docs-assets/js/5.8ff932d5.js"><link rel="prefetch" href="/docs/docs-assets/js/50.929307c9.js"><link rel="prefetch" href="/docs/docs-assets/js/51.dccc2ed0.js"><link rel="prefetch" href="/docs/docs-assets/js/52.c75a87ef.js"><link rel="prefetch" href="/docs/docs-assets/js/53.e01ea451.js"><link rel="prefetch" href="/docs/docs-assets/js/54.9b6c7666.js"><link rel="prefetch" href="/docs/docs-assets/js/55.09e1c8ff.js"><link rel="prefetch" href="/docs/docs-assets/js/56.624d97b5.js"><link rel="prefetch" href="/docs/docs-assets/js/57.53d3a875.js"><link rel="prefetch" href="/docs/docs-assets/js/58.6dbb162c.js"><link rel="prefetch" href="/docs/docs-assets/js/59.9a6543b3.js"><link rel="prefetch" href="/docs/docs-assets/js/6.a038a0d9.js"><link rel="prefetch" href="/docs/docs-assets/js/60.1145629a.js"><link rel="prefetch" href="/docs/docs-assets/js/61.49457290.js"><link rel="prefetch" href="/docs/docs-assets/js/62.e9fe7c71.js"><link rel="prefetch" href="/docs/docs-assets/js/63.c994372e.js"><link rel="prefetch" href="/docs/docs-assets/js/64.7a53557b.js"><link rel="prefetch" href="/docs/docs-assets/js/65.17e5724f.js"><link rel="prefetch" href="/docs/docs-assets/js/66.be54478c.js"><link rel="prefetch" href="/docs/docs-assets/js/67.d8b9ff3e.js"><link rel="prefetch" href="/docs/docs-assets/js/68.e4212bfa.js"><link rel="prefetch" href="/docs/docs-assets/js/69.2cfbd88d.js"><link rel="prefetch" href="/docs/docs-assets/js/7.e18cbbd5.js"><link rel="prefetch" href="/docs/docs-assets/js/70.dfb76c2c.js"><link rel="prefetch" href="/docs/docs-assets/js/71.4da6f404.js"><link rel="prefetch" href="/docs/docs-assets/js/72.fca3e9a2.js"><link rel="prefetch" href="/docs/docs-assets/js/73.d354056f.js"><link rel="prefetch" href="/docs/docs-assets/js/74.c00ad928.js"><link rel="prefetch" href="/docs/docs-assets/js/75.ea0102d6.js"><link rel="prefetch" href="/docs/docs-assets/js/76.c395203d.js"><link rel="prefetch" href="/docs/docs-assets/js/77.b06f0c3e.js"><link rel="prefetch" href="/docs/docs-assets/js/78.1b515a09.js"><link rel="prefetch" href="/docs/docs-assets/js/79.61c0214f.js"><link rel="prefetch" href="/docs/docs-assets/js/8.1861577d.js"><link rel="prefetch" href="/docs/docs-assets/js/80.55e9c4b5.js"><link rel="prefetch" href="/docs/docs-assets/js/81.9c32e094.js"><link rel="prefetch" href="/docs/docs-assets/js/82.728628e7.js"><link rel="prefetch" href="/docs/docs-assets/js/83.14907e73.js"><link rel="prefetch" href="/docs/docs-assets/js/84.ba7a556a.js"><link rel="prefetch" href="/docs/docs-assets/js/85.21408c9b.js"><link rel="prefetch" href="/docs/docs-assets/js/86.81c0ec20.js"><link rel="prefetch" href="/docs/docs-assets/js/87.47fb4cba.js"><link rel="prefetch" href="/docs/docs-assets/js/88.aebf4544.js"><link rel="prefetch" href="/docs/docs-assets/js/89.d8dd7271.js"><link rel="prefetch" href="/docs/docs-assets/js/9.3a6a28a9.js"><link rel="prefetch" href="/docs/docs-assets/js/90.a9785678.js"><link rel="prefetch" href="/docs/docs-assets/js/91.a066fef7.js"><link rel="prefetch" href="/docs/docs-assets/js/92.8081a947.js"><link rel="prefetch" href="/docs/docs-assets/js/93.fe507b56.js"><link rel="prefetch" href="/docs/docs-assets/js/94.95b968d6.js"><link rel="prefetch" href="/docs/docs-assets/js/95.c6b8c611.js"><link rel="prefetch" href="/docs/docs-assets/js/96.7182b600.js"><link rel="prefetch" href="/docs/docs-assets/js/97.628ca208.js"><link rel="prefetch" href="/docs/docs-assets/js/98.f502ded9.js"><link rel="prefetch" href="/docs/docs-assets/js/99.58ac63cb.js"><link rel="stylesheet" href="/docs/docs-assets/css/0.styles.ec078ccc.css"></head><body><div id="app" data-server-rendered="true"><div class="theme-container"><header id="app-header" class="is-clearfix is-hidden-mobile"><nav id="navbar" role="navigation" aria-label="main navigation" class="navbar is-relative"><div class="container"><div class="navbar-brand ml-0"><a href="https://hstream.io" class="navbar-item"><img loading="lazy" src="/docs/docs-assets/img/logo-hstreamdb.5dbc865d.png" alt="HStreamDB: The streaming database built for IoT data storage and real-time analytics" class="logo"></a><a role="button" aria-label="menu" aria-expanded="false" data-target="navbarBasic" class="navbar-burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div><div class="navbar-menu" style="--extra-height:72px"><div class="navbar-start"><a href="/docs/en/latest/" class="navbar-item router-link-active">Docs </a><a href="https://hstream.io/blog" target="_self" rel="noopener" class="navbar-item">Blog </a><a href="https://hstream.io/community" target="_self" rel="noopener" class="navbar-item">Community</a><div class="navbar-item has-dropdown is-hstreamdb"><a class="navbar-link is-arrowless">Company <i class="iconfont icon-arrow-down ml-1 is-size-7"></i></a><div class="navbar-dropdown is-hstreamdb"><a href="https://www.emqx.com/en/about" target="_blank" rel="noopener" class="dropdown-item is-flex is-align-items-center is-text-normal hover:is-text-primary has-text-weight-medium"><div class="dropdown-item-icon mr-3 p-2"><img loading="lazy" src="/docs/docs-images/hstreamdb/header/icon-about.png" alt="About Us"></div>About Us </a><a href="https://www.emqx.com/en/news" target="_blank" rel="noopener" class="dropdown-item is-flex is-align-items-center is-text-normal hover:is-text-primary has-text-weight-medium"><div class="dropdown-item-icon mr-3 p-2"><img loading="lazy" src="/docs/docs-images/hstreamdb/header/icon-news.png" alt="Newsroom"></div>Newsroom </a><a href="https://www.emqx.com/en/contact?product=hstreamdb" target="_blank" rel="noopener" class="dropdown-item is-flex is-align-items-center is-text-normal hover:is-text-primary has-text-weight-medium"><div class="dropdown-item-icon mr-3 p-2"><img loading="lazy" src="/docs/docs-images/hstreamdb/header/icon-email.png" alt="Contact Us"></div>Contact Us</a></div></div></div><div class="navbar-end"><div class="navbar-item is-hidden-touch"><a href="https://github.com/hstreamdb/hstream" target="_blank" rel="noopener noreferrer nofollow" class="is-flex is-align-items-center has-text-weight-medium is-text-normal hover:is-text-primary is-size-14"><i class="iconfont icon-github mr-2 is-size-4 is-text-black"></i> Star</a></div><div class="navbar-item is-hidden-touch"><a href="https://discord.gg/2fEsuvzYqc" target="_blank" rel="noopener noreferrer nofollow" class="is-flex is-align-items-center has-text-weight-medium is-text-normal hover:is-text-primary is-size-14"><i class="iconfont icon-discord mr-2 is-size-4 is-text-black"></i> Discord</a></div><div class="navbar-item is-hidden-touch"><a href="https://www.emqx.com/en/try?product=hstreamdb" target="_blank" class="button is-gradient is-trans-top has-text-weight-medium">Download</a></div><a href="https://www.emqx.com/en/try?product=hstreamdb" target="_blank" class="navbar-item is-hidden-desktop">Download</a></div></div></div></nav></header><header class="docs-navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><div class="navbar-left"><a href="/docs/en/latest/" class="home-link is-hidden-mobile router-link-active">Documentation </a><a href="/docs/en/latest/" class="home-link is-hidden-tablet router-link-active"><img loading="lazy" src="/docs/docs-assets/img/logo-hstreamdb.5dbc865d.png" alt="HStreamDB: The streaming database built for IoT data storage and real-time analytics" class="logo" style="height:40px;max-width:unset"></a></div><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="https://hstreamdb/docs/en/latest/" target="_self" class="nav-link external">Docs</a></div><div class="nav-item"><a href="https://hstream.io/blog" target="_self" class="nav-link external">Blog</a></div><div class="nav-item"><a href="https://hstream.io/community" target="_self" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Company" class="dropdown-title"><span class="title">Company</span> <span class="arrow down"></span></button> <button type="button" aria-label="Company" class="mobile-dropdown-title"><span class="title">Company</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/about" target="_blank" rel="noopener noreferrer" class="nav-link external">About Us</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/news" target="_blank" rel="noopener noreferrer" class="nav-link external">Newsroom</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/contact?product=hstreamdb" target="_blank" rel="noopener noreferrer" class="nav-link external">Contact Us</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/docs/en/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/docs/zh/latest/" class="nav-link">中文</a></li></ul></div></div></nav></div></header><div class="sidebar-mask"></div><section class="main-box"><div class="columns is-mobile is-gapless"><aside class="left-column sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://hstreamdb/docs/en/latest/" target="_self" class="nav-link external">Docs</a></div><div class="nav-item"><a href="https://hstream.io/blog" target="_self" class="nav-link external">Blog</a></div><div class="nav-item"><a href="https://hstream.io/community" target="_self" class="nav-link external">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Company" class="dropdown-title"><span class="title">Company</span> <span class="arrow down"></span></button> <button type="button" aria-label="Company" class="mobile-dropdown-title"><span class="title">Company</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="https://www.emqx.com/en/about" target="_blank" rel="noopener noreferrer" class="nav-link external">About Us</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/news" target="_blank" rel="noopener noreferrer" class="nav-link external">Newsroom</a></li><li class="dropdown-item"><a href="https://www.emqx.com/en/contact?product=hstreamdb" target="_blank" rel="noopener noreferrer" class="nav-link external">Contact Us</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button><ul class="nav-dropdown" style="display:none"><li class="dropdown-item"><a href="/docs/en/latest/" class="nav-link router-link-active">English</a></li><li class="dropdown-item"><a href="/docs/zh/latest/" class="nav-link">中文</a></li></ul></div></div></nav><div class="mt-6 mb-4"><div id="docsearch" class="algolia-search-box"></div></div><ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Overview</span> <span class="arrow down"></span></p><ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/latest/overview/overview.html" class="sidebar-link">HStreamDB (HStream Streaming Database) Overview</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>HStreamDB Architecture</span> <span class="arrow right"></span></p></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting started</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Concepts</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guides</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deployment</span> <span class="arrow right"></span></p></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Monitoring</span> <span class="arrow right"></span></p></section></li><li><a href="/docs/en/latest/cli/cli.html" class="sidebar-link">HStream CLI</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p></section></li><li><a href="/docs/en/latest/release_notes/HStreamDB.html" class="sidebar-link">Release notes</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p></section></li></ul><div class="sidebar-bottom"><div class="version-pick"><div class="dropdown-wrapper"><button type="button" class="dropdown-title is-flex is-align-items-center is-justify-content-space-between"><span class="title">latest </span><i class="iconfont icon-arrow-down ml-1 is-size-7"></i></button></div></div><div class="lang-pick"><div class="dropdown-wrapper"><button type="button" class="dropdown-title p-0 is-flex is-align-items-center is-justify-content-end"><i class="iconfont icon-language is-size-4"></i></button><ul class="dropdown-items"><li class="dropdown-item"><a href="/docs/en/latest/" class="router-link-active is-active">English</a></li><li class="dropdown-item"><a href="/docs/zh/latest/">中文</a></li></ul></div></div></div></aside><div class="column"><div class="columns is-mobile is-gapless"><div class="column col-page"><main class="page"><div id="loader-wrapper" style="display:none" data-v-78d8edea><div class="loader" data-v-78d8edea><div class="ball-spin-fade-loader" data-v-78d8edea><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div><div data-v-78d8edea></div></div></div></div><div class="theme-default-content reset-width content__default"><h1 id="how-to-use-hstream-connectors-with-mysql"><a href="#how-to-use-hstream-connectors-with-mysql" class="header-anchor">#</a> How to use HStream connectors with MySQL</h1><p>This tutorial describes how to use HStream connectors.</p><div class="custom-block tip"><p class="custom-block-title">TIP</p><p>Up to the present, we only provide sink connectors writing to MySQL or ClickHouse. <strong>The recommended verion of MySQL is 5.7</strong> and MySQL versions after 8.0 are not supported yet.</p></div><h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2><p>Make sure you have started an HStreamDB server and a client connected to the server. You also need MySQL or ClickHouse service available in order to dump data to the databases. In this tutorial, I will use HStream CLI client and MySQL database as the example. To better manipulate data in MySQL, I will use MyCLI as the interface but any alternatives should work similarly. Please replace the host address and port number with your own configuration.</p><div class="language- line-numbers-mode"><pre class="language-text"><code>mycli --host 127.0.0.1 --port 3306 --user root
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>I will be using a database called <code>hstreamdb</code> in MySQL and a table called <code>hstreamtbl</code> with two columns of integers in the database.</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> hstreamdb<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">USE</span> hstreamdb<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> hstreamtbl <span class="token punctuation">(</span>temperature <span class="token keyword">INT</span><span class="token punctuation">,</span> humidity <span class="token keyword">INT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="create-built-in-connectors"><a href="#create-built-in-connectors" class="header-anchor">#</a> Create Built-In Connectors</h2><p>We first create a source stream called <code>hstreamsrc</code> in our server via an HStream client.</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> STREAM hstreamsrc<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Then, let's take a look at the usage of the command to create a connector.</p><h3 id="synopsis"><a href="#synopsis" class="header-anchor">#</a> Synopsis</h3><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> SINK CONNECTOR connector_name <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> EXIST<span class="token punctuation">]</span> <span class="token keyword">WITH</span> <span class="token punctuation">(</span>connector_options <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Connector options include:</p><table><thead><tr><th>Option</th><th>Type</th><th>Description or default value</th></tr></thead><tbody><tr><td>type*</td><td>Identifier</td><td>[<code>mysql</code> | <code>clickhouse</code>]</td></tr><tr><td>stream*</td><td>Identifier</td><td>Name of the source stream</td></tr><tr><td>username</td><td>String</td><td>&quot;root&quot;</td></tr><tr><td>password</td><td>String</td><td>&quot;password&quot;</td></tr><tr><td>host</td><td>String</td><td>&quot;127.0.0.1&quot;</td></tr><tr><td>port*</td><td>Int</td><td>Port number for connection</td></tr><tr><td>database</td><td>String</td><td>&quot;mysql&quot;</td></tr><tr><td>table</td><td>String</td><td>Name of the table in the database</td></tr></tbody></table><p>Options with a * symbol are required and others are optional. The <code>type</code> option has to be either <code>mysql</code> or <code>clickhouse</code> for now and the default value listed above are specific to the MySQL option. If the name of table is omitted, the connector will write the data to a table with the same name as the source stream.</p><p>Back to our example, we will use the following command to create a sink connector called <code>mysql_conn</code> that subsribes to the <code>hstreamsrc</code> stream.</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> SINK CONNECTOR mysql_conn <span class="token keyword">WITH</span> <span class="token punctuation">(</span><span class="token keyword">type</span> <span class="token operator">=</span> mysql<span class="token punctuation">,</span> stream <span class="token operator">=</span> hstreamsrc<span class="token punctuation">,</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span> password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> host <span class="token operator">=</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> port <span class="token operator">=</span> <span class="token number">3306</span><span class="token punctuation">,</span> <span class="token keyword">database</span> <span class="token operator">=</span> <span class="token string">&quot;hstreamdb&quot;</span><span class="token punctuation">,</span> <span class="token keyword">table</span> <span class="token operator">=</span> <span class="token string">&quot;hstreamtbl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can use the following command to check the status of a connector.</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> CONNECTORS<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>One of the following states is assigned to the connectors:</p><table><thead><tr><th>state</th><th>description</th></tr></thead><tbody><tr><td>Creating</td><td>The server has started to process the request</td></tr><tr><td>Created</td><td>The connection has been established but it has not started to process the data</td></tr><tr><td>CreationAbort</td><td>The process of creating the connection failed and it is frozon</td></tr><tr><td>Running</td><td>The connector is ready to process requests</td></tr><tr><td>ExecutionAbort</td><td>The connector failed to execute a SQL statement and it is frozen</td></tr><tr><td>Terminate</td><td>The connector is frozen by a user request</td></tr></tbody></table><p>Please wait for it to finish setting up if the state of the connector is <code>Creating</code> or <code>Created</code>. After the connector has been successfully initialized, its state will be set to <code>Running</code> until it is killed per client request or a MySQL error occurs. A connector is not working if its state is <code>CreationAbort</code>, <code>ExecutionAbort</code>, or <code>Terminate</code>. You can restart an aborted or terminated connector (in the future). You may also abandon connectors by using</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> CONNECTOR connector_name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="check-the-result"><a href="#check-the-result" class="header-anchor">#</a> Check the result</h3><p>Once the connector has been set up, the data inserted into the source stream thereafter will be written into the connected external system in a very short time gap.</p><p>For example, we can insert some data to the source stream by</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> hstreamsrc <span class="token punctuation">(</span>temperature<span class="token punctuation">,</span> humidity<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> hstreamsrc <span class="token punctuation">(</span>temperature<span class="token punctuation">,</span> humidity<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> hstreamsrc <span class="token punctuation">(</span>temperature<span class="token punctuation">,</span> humidity<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Please make sure that the data inserted into the source stream follow the schema of the table in the database. Otherwise, a MySQL error will happen and the connection is broken subsequently.</p><p>After inserting the data into the source stream, you should be able to view the data on MySQL end,</p><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> hstreamtbl<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h3><ul><li>What happened if the status of the connector is <code>CreationAbort</code>?</li></ul><p>This is caused by an error occured when the server tried to connect to the MySQL service. Please double check that you have passed the correct configuration options, especially the port number, and that the database has been created. Please drop the connector before you try again.</p><ul><li>What happened if the status of the connector is <code>ExecutionAbort</code>?</li></ul><p>This is caused by an error occured in the execution of a MySQL command, e.g. the table does not exist in the database or the data fed into the source stream do not follow the table schema. You could restart the connection (in the future) or drop it.</p><ul><li>What happened if the status of the connector is <code>Terminate</code>?</li></ul><p>It means a client has requested that the connector be terminated. You could restart the connection (in the future) or drop it in this circumstance.</p></div></main></div><div class="right-column"><div class="docs-operation"><div class="doc-download improve-doc"><a href="https://github.com/hstreamdb/docs/edit/latest/docs/en/reference/connector/tutorial/MySQL.md" target="_blank" rel="noreferrer" class="improve-doc">Edit this page</a></div><div class="doc-download feedback-doc"><a href="https://github.com/hstreamdb/docs/issues/new?body=File:%20[/docs/en/reference/connector/tutorial/MySQL.md](https://hstream.io/docs/en/latest/reference/connector/tutorial/MySQL.html)" target="_blank" rel="noreferrer">Request docs changes</a></div></div><section class="doc-toc"><div class="title">What’s on this page</div><div class="toc-content"><ul><li><a href="/docs/en/latest/reference/connector/tutorial/MySQL.html#prerequisites">Prerequisites</a></li><li><a href="/docs/en/latest/reference/connector/tutorial/MySQL.html#create-built-in-connectors">Create Built-In Connectors</a></li></ul></div></section></div></div></div></div></section><div id="page-feedback" data-v-fa621f20><div class="feedback-button is-flex is-align-items-center is-justify-content-center" data-v-fa621f20><svg aria-hidden="true" class="icon" data-v-fa621f20><use xlink:href="#icon-useful" data-v-fa621f20></use></svg></div><div class="feedback-form" style="display:none" data-v-fa621f20 data-v-fa621f20><div class="feedback-header pl-4 is-flex is-align-items-center is-justify-content-space-between" data-v-fa621f20>Was this page useful?<div class="icon-close p-4" style="cursor:pointer" data-v-fa621f20>x</div></div><div class="feedback-body p-4" data-v-fa621f20><div class="is-flex" data-v-fa621f20 data-v-67fd37ab data-v-fa621f20><div class="feedback-button like mr-5 is-flex is-align-items-center is-justify-content-center" data-v-fa621f20><svg aria-hidden="true" class="icon" data-v-fa621f20><use xlink:href="#icon-useful" data-v-fa621f20></use></svg></div><div class="feedback-button dislike is-flex is-align-items-center is-justify-content-center" data-v-fa621f20><svg aria-hidden="true" class="icon" data-v-fa621f20><use xlink:href="#icon-a-notuseful" data-v-fa621f20></use></svg></div></div></div></div></div></div><div class="global-ui"></div></div><script src="/docs/docs-assets/js/app.bf87e421.js" defer="defer"></script><script src="/docs/docs-assets/js/2.a817f45a.js" defer="defer"></script><script src="/docs/docs-assets/js/39.352899e9.js" defer="defer"></script></body></html>